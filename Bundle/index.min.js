var{IS:b,maybe:E,$Wrap:X,isNothing:j,xProxy:h,addSymbolicExtensions:T}=Y({useSymbolicExtensions:!1});function Y(i={}){let{useSymbolicExtensions:a}=i,{shouldbeIsSingleObject:m,ISOneOf:g,isExcept:P,verifyNothingness:d,xProxy:x,determineType:N,addSymbolicExtensions:y,maybe:S,$Wrap:O}=_(e,a);return a&&y(),{IS:e,maybe:S,$Wrap:O,isNothing:d,xProxy:x,addSymbolicExtensions:y};function e(c,...u){let l=typeof c=="symbol"?Symbol.isSymbol:c;switch(!0){case!!S({trial:f=>"isTypes"in(u?.[0]??{})}):return m(c,u[0]);default:return u.length>1?g(l,...u):N(c,...u)}}}function _(i,a){let{SymbolAndCustomProxyFactory:m,maybeFactory:g,WrapAnyFactory:P,verifyNothingness:d,determineType:x}=w(i,e),{xProxy:N,addSymbolicExtensions:y}=m(i,e,a),[S,O]=[g(),P(i,e)];return Object.freeze({shouldbeIsSingleObject:c,ISOneOf:u,isExcept:f,verifyNothingness:d,xProxy:N,determineType:x,addSymbolicExtensions:y,maybe:S,$Wrap:O});function e(r){return r?.[Symbol.proxy]??i(r)}function c(r,t){switch(!0){case"defaultValue"in t:return l(r,t);case"notTypes"in t:return f(r,t);default:return i(r,...[t.isTypes].flat())}}function u(r,...t){return t.some(n=>i(r,n))}function l(r,{defaultValue:t,isTypes:n=[void 0],notTypes:o}={}){return n=n?.constructor!==Array?[n]:n,o=o&&o?.constructor!==Array?[o]:[],o.length<1?i(r,...n)?r:t:f(r,{isTypes:n,notTypes:o})?r:t}function f(r,{isTypes:t=[void 0],notTypes:n=[void 0]}={}){return t=t?.constructor!==Array?[t]:t,n=n?.constructor!==Array?[n]:n,i(r,...t)&&!i(r,...n)}}function w(){let i={IS:"toa.is",TYPE:"toa.type",IS_SYMBOL:"toa.isASymbol",PROXY:"toa.proxy"},a={NAN:"NaN",INFINITY:"Infinity",BOOLEAN:"Boolean",OBJECT:"Object",PROXY_PREFIX:"Proxy ("};return Object.freeze({SymbolAndCustomProxyFactory:g,maybeFactory:l,WrapAnyFactory:u,verifyNothingness:f,determineType:y});function m(r,t){Symbol.is||(Symbol.is=Symbol.for(i.IS),Symbol.type=Symbol.for(i.TYPE),Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return t(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...n){return r(this,...n)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(n){return t(n)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(n,...o){return r(n,...o)},enumerable:!1,configurable:!1}}))}function g(r,t,n){return Symbol.isSymbol||(Symbol.isSymbol=Symbol.for(i.IS_SYMBOL)),{xProxy:x(),addSymbolicExtensions:()=>m(r,t)}}function P(r){return(j(r,!0)?{name:"unknown"}:Object.getPrototypeOf(r)?.constructor).name}function d(r,t){return Proxy=new r(r,{construct(n,o){let s=new n(...o);return Object.defineProperty(s,t,{value:`${a.PROXY_PREFIX}${P(o[0])})`}),s}}),Proxy}function x(){Symbol.proxy||(Symbol.proxy=Symbol.for(i.PROXY));let r=Proxy;return{native(){Proxy=r},custom(){Proxy=d(r,Symbol.proxy)}}}function N(r,...t){let n=t.length<1,o=r==null;return{noInput:o,noShouldbe:n,compareTo:!n&&t[0],inputCTOR:!o&&(r?.constructor||Object.getPrototypeOf(r)?.constructor),isNaN:Number.isNaN(r)||E({trial:s=>String(r)===a.NAN}),isInfinity:E({trial:s=>String(r)})===a.INFINITY,shouldBeFirstElementIsNothing:!n&&f(t[0])}}function y(r,...t){let{noInput:n,noShouldbe:o,compareTo:s,inputCTOR:A,isNaN:F,isInfinity:v,shouldBeFirstElementIsNothing:p}=N(r,...t);switch(t=t.length&&t[0],!0){case p:return String(r)===String(s);case(r?.[Symbol.proxy]&&o):return r[Symbol.proxy];case F:return o?a.NAN:String(s)===String(r);case v:return o?a.INFINITY:String(s)===String(r);case n:return o?String(r):String(s)===String(r);case A===Boolean:return o?a.BOOLEAN:A===t;default:return O(r,t,o,S(r,A))}}function S(r,t){switch(!0){case r===0:return Number;case r==="":return String;case!r:return{name:String(r)};default:return t}}function O(r,t,n,o){switch(!0){case(!n&&t===r||r?.[Symbol.proxy]&&t===Proxy):return!0;case String(t)===a.NAN:return String(r)===a.NAN;case(r?.[Symbol.toStringTag]&&typeof t=="string"):return String(t)===r[Symbol.toStringTag];default:return t?c(r,t,o):e(r,o)}}function e(r,t){return(r?.[Symbol.toStringTag]??r?.prototype?.[Symbol.toStringTag])||t?.name||String(t)}function c(r,t,n){return E({trial:o=>r instanceof t})||t===n||t===Object.getPrototypeOf(n)||`${t?.name}`===n?.name}function u(r,t){return function(n){let o={get value(){return n},is(...s){return r(n,...s)},get type(){return t(n)}};return Object[Symbol.type]&&Object.defineProperties(o,{[Symbol.type]:{get(){return t(n)}},[Symbol.is]:{value(...s){return r(n,...s)}}}),Object.freeze(o)}}function l(){let r=t=>{};return function({trial:t,whenError:n=r}={}){try{return t()}catch(o){return n(o)}}}function f(r,t=!1){let n=r==null;return n=t?n||b(r,1/0)||b(r,NaN):n,n}}var C=I(),$=I("");function I(i,a={}){let{useSymbolicExtensions:m}=a;return i=b(i,String,Number)?String(i):void 0,m&&L(),function(e,...c){return O(e,S(c))};function g(e,c){return c&&b(i,String,Number)?String(i):`{${e}}`}function P(e,c){let u=e in c;return u&&b(c[e],String,Number)?String(c[e]):g(e,u)}function d(e){return(...c)=>{let u=c.find(l=>l.key);return P(u?u.key:"_",e)}}function x(e,c){return e.replace(/\{(?<key>[a-z_\d]+)}/gim,d(c))}function N(e){let c=[];return Object.entries(e).forEach(([u,l])=>{l.forEach((f,r)=>(c[r]??={},c[r][u]=f))}),c}function y(e){return e.length===1&&Object.values(e[0]).every(Array.isArray)}function S(e){return y(e)?N(e[0]):e}function O(e,c){let u=c?.length?c.filter(l=>b(l,Object)).map((l,f)=>x(e,{...l,index:f+1})).join(""):e;return b(i,void 0)?u:u.replace(/\{[a-z_\d].+\}/gim,String(i))}}function L(){return String.prototype[Symbol.for("interpolate")]||Object.defineProperties(String.prototype,{[Symbol.for("interpolate")]:{value(...i){return C(this,...i)}},[Symbol.for("interpolate$")]:{value(...i){return $(this,...i)}}}),[Symbol.for("interpolate"),Symbol.for("interpolate$")]}export{L as addSymbolicStringExtensions,C as default,$ as interpolateClear,I as interpolateFactory};
